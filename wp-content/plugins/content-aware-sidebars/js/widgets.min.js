!function(a){var b={$sidebarContainer:a(".widget-liquid-right"),$widgetContainer:a("#available-widgets"),$sidebars:null,$widgets:null,init:function(){this.$sidebars=a("div[id^='ca-sidebar']",this.$sidebarContainer),this.$widgets=a(".widget",this.$widgetContainer).get().reverse(),this.addSidebarEditLink(),this.addSidebarToolbar(),this.addWidgetSearch()},addWidgetSearch:function(){a(".sidebar-description",this.$widgetContainer).prepend('<input type="search" class="js-cas-widget-filter cas-filter-widget" placeholder="'+CASAdmin.filterWidgets+'...">'),this.searchWidgetListener()},searchWidgetListener:function(){var b,c=this,d="";this.$widgetContainer.on("keyup",".js-cas-widget-filter",function(){var e=a(this).val();e!=d&&(d=e,b&&clearTimeout(b),b=setTimeout(function(){a(c.$widgets).each(function(b,c){var d=a(c);d.find(".widget-title :nth-child(1)").text().search(new RegExp(e,"i"))<0?d.fadeOut():(d.prependTo(d.parent()),d.fadeIn().css("display",""))})},250))})},addSidebarToolbar:function(){var a='<div class="wp-filter cas-filter-sidebar"><a href="post-new.php?post_type=sidebar" class="button button-primary">'+CASAdmin.addNew+'</a><input type="search" class="js-cas-filter" placeholder="'+CASAdmin.filterSidebars+'..."></div>';this.$sidebarContainer.prepend(a),this.searchSidebarListener()},searchSidebarListener:function(){var b,c=this,d="";this.$sidebarContainer.on("keyup",".js-cas-filter",function(){var e=a(this).val();e!=d&&(d=e,b&&clearTimeout(b),b=setTimeout(function(){a(".widgets-holder-wrap",c.$sidebarContainer).each(function(b,c){var d=a(c);d.find(".sidebar-name :nth-child(2)").text().search(new RegExp(e,"i"))<0?d.fadeOut():d.fadeIn()})},250))})},addSidebarEditLink:function(){this.$sidebars.each(function(){$this=a(this);var b=$this.attr("id").replace("ca-sidebar-",""),c=$this.closest(".widgets-holder-wrap");c.addClass("content-aware-sidebar"),$this.find(".sidebar-description").append('<div class="cas-settings"><a title="'+CASAdmin.edit+'" class="cas-sidebar-link" href="post.php?post='+b+'&action=edit"><i class="dashicons dashicons-admin-generic"></i> '+CASAdmin.edit+"</a></div>")})}};a(document).ready(function(){b.init()})}(jQuery);